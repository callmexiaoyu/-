# ./、__dirname、require('./')各路径区别

[TOC]

***

## require('./')

js模块文件通过require('./xxx/xxx.js')加载需要的其他js模块文件，而其他js模块文件又同样加载其他js模块文件，形成盘根错节的模块文件相互依赖关系，require('./')中的./此时指向相对require('./')所在文件的路径，在该路径下根据需要加载相对于自身地址的路径，是一个相对路径，每一个依赖的js模块文件，require('./')引用的文件都是相对自身地址的相对路径

`引用其他js模块文件，只考虑文件相对自身的路径`

***

## require('第三方模块')

在当前文件所在的目录下寻找node_moduels文件下下的模块文件的同名文件夹的index.js入口文件，找不到在上一级的node_moduels下继续寻找，一致到根目录，没有则报错

***

## require('核心模块')

全局安装所在的路径，node安装的路径

***
## __dirname

每个js模块文件的\__dirname，指向自身问价所在的绝对路径，js模块文件存放路径不同，输出的__dirname也不同

`读写文件时使用绝对路径，配合读写文件相对js模块自身的相对路径`

```js
var dbPath = path.join(__dirname,"../data/data.json");
//js模块的绝对路径和目标文件的相对自身的相对路径，合成得到目标文件的绝对路径
```

告诉核心模块根据绝对路径读写文件

+ path.join(__dirname,"../data/data.json")方法的../和./此时都基于自身文件

***

## ./

指向执行node命令的路径，`每个js模块文件的./都统一为执行node命令时的路径`

```js
C:\Users\Administrator\Desktop\前端资料\学习总结\nodejs\node核心模块>node 路径\app.js
//C:\Users\Administrator\Desktop\前端资料\学习总结\nodejs\node核心模块>node
```

`当js模块文件的读写文件，选择的是./时，则调用原生的模块时，根据node命令所在路径寻找读写文件，所有的js模块文件的读写文件的路径统一为执行命令时的路径，根据执行命令寻找文件，` **极容易出错**

## ../

同./指向node命令所在的路径的上一级文件的路径
***

# /

指向所在文件的根目录，磁盘路径

C:\

***

模块的加载，相当于在模块所在路径下执行模块文件，然后结果返回